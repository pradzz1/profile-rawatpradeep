!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactSimplyCarousel=t(e.React)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],c=!0,l=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=["responsiveProps"],m=["minWidth","maxWidth"],v=["style","onClickCapture"],h=["style"],b=["style","onTouchStart","onMouseDown","onTransitionEnd"],p=["children","show"],y=["children","show"],w=["className","style"],x=["className","style"],g=["className","onClick","style"],S=["props"];function E(t){var r=t.responsiveProps,o=void 0===r?[]:r,d=l(t,f),s=a(e.useState(0),2),E=s[0],C=s[1],k=a(e.useState(d.activeSlideIndex),2),I=k[0],T=k[1],O=e.useRef(null),L=e.useRef(null),j=e.useRef(null),M=e.useRef(0),P=e.useRef(!1),W=e.useRef(""),A=e.useRef(null),R=e.useRef(null),X=e.useRef(0),N=e.useRef(I),F=o.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minWidth,r=void 0===n?0:n,o=t.maxWidth,c=void 0===o?null:o,a=l(t,m);return E>r&&(!c||E<=c)?i(i({},e),a):e}),d),V=e.Children.toArray(F.children),D=E?i(i({},F),{},{activeSlideIndex:Math.max(0,Math.min(F.activeSlideIndex,V.length-1)),itemsToShow:Math.min(V.length,F.itemsToShow||0),itemsToScroll:Math.min(V.length,F.itemsToScroll||1)}):d,z=D.containerProps,B=(z=void 0===z?{}:z).style,q=void 0===B?{}:B,H=z.onClickCapture,U=void 0===H?null:H,$=l(z,v),G=D.innerProps,J=(G=void 0===G?{}:G).style,K=void 0===J?{}:J,Q=l(G,h),Y=D.itemsListProps,Z=(Y=void 0===Y?{}:Y).style,_=void 0===Z?{}:Z,ee=Y.onTouchStart,te=void 0===ee?null:ee,ne=Y.onMouseDown,re=void 0===ne?null:ne,ie=Y.onTransitionEnd,oe=void 0===ie?null:ie,ce=l(Y,b),le=D.backwardBtnProps,ae=(le=void 0===le?{}:le).children,ue=void 0===ae?null:ae,de=le.show,se=void 0===de||de,fe=l(le,p),me=D.forwardBtnProps,ve=(me=void 0===me?{}:me).children,he=void 0===ve?null:ve,be=me.show,pe=void 0===be||be,ye=l(me,y),we=D.activeSlideProps,xe=(we=void 0===we?{}:we).className,ge=void 0===xe?"":xe,Se=we.style,Ee=void 0===Se?{}:Se,Ce=l(we,w),ke=D.visibleSlideProps,Ie=(ke=void 0===ke?{}:ke).className,Te=void 0===Ie?"":Ie,Oe=ke.style,Le=void 0===Oe?{}:Oe,je=l(ke,x),Me=D.updateOnItemClick,Pe=void 0!==Me&&Me,We=D.activeSlideIndex,Ae=D.onRequestChange,Re=D.speed,Xe=void 0===Re?0:Re,Ne=D.delay,Fe=void 0===Ne?0:Ne,Ve=D.easing,De=void 0===Ve?"linear":Ve,ze=D.itemsToShow,Be=void 0===ze?0:ze,qe=D.itemsToScroll,He=void 0===qe?1:qe,Ue=D.children,$e=D.onAfterChange,Ge=D.autoplay,Je=void 0!==Ge&&Ge,Ke=D.autoplayDirection,Qe=void 0===Ke?"forward":Ke,Ye=D.disableNavIfAllVisible,Ze=void 0===Ye||Ye,_e=D.hideNavIfAllVisible,et=void 0===_e||_e,tt=D.centerMode,nt=void 0!==tt&&tt,rt=D.infinite,it=void 0===rt||rt,ot=D.disableNavIfEdgeVisible,ct=void 0===ot||ot,lt=D.disableNavIfEdgeActive,at=void 0===lt||lt,ut=D.dotsNav,dt=void 0===ut?{}:ut,st=D.persistentChangeCallbacks,ft=void 0!==st&&st,mt=dt||{},vt=mt.show,ht=void 0!==vt&&vt,bt=mt.containerProps,pt=void 0===bt?{}:bt,yt=mt.itemBtnProps,wt=void 0===yt?{}:yt,xt=mt.activeItemBtnProps,gt=void 0===xt?{}:xt,St=e.Children.count(Ue)-1,Et=Be===V.length,Ct=et&&Et,kt=Ze&&Et,It=We-I==0||!Xe&&!Fe?"none":"transform ".concat(Xe,"ms ").concat(De," ").concat(Fe,"ms"),Tt=e.useCallback((function(e){var t=e.correctionSlideIndex,n=e.prevCorrectionSlideIndex,r=e.curActiveSlideIndex,i=it?u(j.current.children).slice(j.current.children.length/3-n,j.current.children.length/3-n+j.current.children.length/3):u(j.current.children),o=i[r].offsetWidth,c=Be?i.reduce((function(e,t,n){return n>=r&&n<r+Be||n<r&&n<r+Be-i.length?e+t.offsetWidth:e}),0):L.current.offsetWidth,l=j.current.offsetWidth-c,a=nt&&it?-(c-o)/2:0,d=it?j.current.offsetWidth/3:0,s=t-r==0?0:"forward"===W.current&&r<t?d:"backward"===W.current&&r>t?-d:0,f=r-t!=0,m=function(e){var t=i.reduce((function(t,n,r){return r>=e?t:t+(n.offsetWidth||0)}),0);return it?t:Math.min(l,t)},v=f&&it?m(t):0,h=f||!it?m(r):0,b=kt?0:h-v+a+s+d,p="translateX(-".concat(b,"px)"),y=it?d+a:Math.min(j.current.offsetWidth-c,i.reduce((function(e,t,n){return n<r?e+t.offsetWidth:e}),0)),w=y+c,x=it?[].concat(u(i.slice(r).map((function(e,t){return{slideIndex:t+r,htmlElement:e}}))),u(i.map((function(e,t){return{slideIndex:t,htmlElement:e}}))),u(i.map((function(e,t){return{slideIndex:t,htmlElement:e}}))),u(i.slice(0,r).map((function(e,t){return{slideIndex:t,htmlElement:e}})))):i.map((function(e,t){return{slideIndex:t,htmlElement:e}})),g=x.reduce((function(e,t){var n=t.slideIndex,r=t.htmlElement.offsetWidth;return(e.summ>=y&&e.summ<w||e.summ+r>y&&e.summ+r<=w)&&e.items.push({slideIndex:n,isFullyVisible:e.summ+r<=w&&e.summ>=y}),e.summ+=r,e}),{summ:0,items:[]}),S=!!g.items.find((function(e){return 0===e.slideIndex})),E=!!g.items.find((function(e){return e.slideIndex===i.length-1}));return{slidesHTMLElements:i,innerMaxWidth:c,itemsListMaxTranslateX:l,activeSlideWidth:o,offsetCorrectionForCenterMode:a,offsetCorrectionForInfiniteMode:d,itemsListTranslateX:b,itemsListTransform:p,visibleSlides:g.items,isFirstSlideVisible:S,isLastSlideVisible:E}}),[nt,kt,it,Be]),Ot=E?Tt({prevCorrectionSlideIndex:N.current,curActiveSlideIndex:We,correctionSlideIndex:I}):{},Lt=Ot.innerMaxWidth,jt=void 0===Lt?0:Lt,Mt=Ot.itemsListMaxTranslateX,Pt=void 0===Mt?0:Mt,Wt=Ot.activeSlideWidth,At=void 0===Wt?0:Wt,Rt=Ot.offsetCorrectionForCenterMode,Xt=void 0===Rt?0:Rt,Nt=Ot.offsetCorrectionForInfiniteMode,Ft=void 0===Nt?0:Nt,Vt=Ot.itemsListTranslateX,Dt=void 0===Vt?0:Vt,zt=Ot.itemsListTransform,Bt=void 0===zt?"none":zt,qt=Ot.visibleSlides,Ht=void 0===qt?[]:qt,Ut=e.useCallback((function(e){if("forward"===e){var t=We+He;return t>St?it?t-St-1:We:t}if("backward"===e){var n=We-He;return n<0?it?St+1+n:We:n}return We}),[We,He,St,it]),$t=e.useCallback((function(e,t){if(W.current=t,j.current.style.transition=Xe||Fe?"transform ".concat(Xe,"ms ").concat(De," ").concat(Fe,"ms"):"none",e!==We||ft){clearTimeout(A.current);var n=Tt({correctionSlideIndex:I,prevCorrectionSlideIndex:I,curActiveSlideIndex:e}),r=n.visibleSlides,i=n.isFirstSlideVisible,o=n.isLastSlideVisible;Ae(e,{visibleSlides:r,isFirstSlideVisible:i,isLastSlideVisible:o})}else M.current=0,j.current.style.transform="translateX(-".concat(Xt+Ft+(it?0:Dt),"px)")}),[ft,We,Xt,Fe,De,Xe,Ae,Ft,it,Dt,I,Tt]),Gt=e.useCallback((function(){Je&&(clearTimeout(A.current),A.current=setTimeout((function(){$t(Ut(Qe),Qe)}),Fe))}),[Je,Qe,$t,Ut,Fe]),Jt=e.useCallback((function(e){P.current&&(e.preventDefault(),e.stopPropagation(),U&&U(e))}),[U]),Kt=e.useCallback((function(){$t(Ut("backward"),"backward")}),[$t,Ut]),Qt=e.useCallback((function(e){P.current=!0;var t=e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX,n=M.current-t+Xt+Ft+(it?0:Dt),r=j.current.offsetWidth-L.current.offsetWidth,i=Math.max(Math.min(0,-n),-r);j.current.style.transition="none",j.current.style.transform="translateX(".concat(i,"px)")}),[Xt,Ft,it,Dt]),Yt=e.useCallback((function(e){if(j.current.removeEventListener("mouseout",Yt),j.current.removeEventListener("dragstart",Yt),document.removeEventListener("mousemove",Qt),document.removeEventListener("mouseup",Yt),document.removeEventListener("touchmove",Qt),document.removeEventListener("touchend",Yt),P.current){var t=e.changedTouches&&e.changedTouches.length?e.changedTouches[e.changedTouches.length-1].clientX:e.clientX,n=M.current-t,r=n>At/2?{index:Ut("forward"),direction:"forward"}:n<-At/2?{index:Ut("backward"),direction:"backward"}:{index:We,direction:"forward"};r.index===We&&(P.current=!1),$t(r.index,r.direction)}}),[We,At,$t,Ut,Qt]),Zt=e.useCallback((function(e){clearTimeout(A.current),P.current||(M.current=e.clientX,document.addEventListener("mousemove",Qt),document.addEventListener("mouseup",Yt),j.current.addEventListener("mouseout",Yt),j.current.addEventListener("dragstart",Yt)),re&&re(e)}),[Qt,Yt,re]),_t=e.useCallback((function(e){clearTimeout(A.current),P.current||(M.current=e.touches[0].clientX,document.addEventListener("touchmove",Qt),document.addEventListener("touchend",Yt)),te&&te(e)}),[Qt,Yt,te]),en=e.useCallback((function(e){T(We),oe&&oe(e)}),[We,oe]),tn=e.useCallback((function(){$t(Ut("forward"),"forward")}),[$t,Ut]),nn=function(e,t,n){return e.map((function(e,r){var o=e.props,c=(o=void 0===o?{}:o).className,a=void 0===c?"":c,u=o.onClick,d=void 0===u?null:u,s=o.style,f=void 0===s?{}:s,m=l(o,g),v=l(e,S),h=it?X.current>=V.length?"forward":"backward":r>=We?"forward":"backward",b=r+t===We,p=Ht.find((function(e){return e.slideIndex===r+t})),y="".concat(a," ").concat(h," ").concat(b?ge:""," ").concat(p?Te:""),w=i(i(i(i({},f),p?Le:{}),b?Ee:{}),{},{boxSizing:"border-box",margin:0}),x=!n&&Pe?function(e){var t=e.direction,n=e.index,r=e.onClick;return function(e){$t(n,t||(We<n?"forward":"")||(We>n?"backward":"")),r&&r(e)}}({direction:h,index:r+t,onClick:d}):d,E=i(i(i({role:"tabpanel",className:y,style:w,onClick:x},m),p?je:{}),b?Ce:{});return X.current+=1,i({props:E},v)}))};return e.useEffect((function(){return M.current=0,I===We&&(P.current=!1),W.current="",We!==I?Xe||Fe||T(We):($e&&$e(We,I),(it||"forward"===Qe&&We!==St||"backward"===Qe&&0!==We)&&Gt()),function(){clearTimeout(A.current)}}),[I,We,$e,Xe,Fe,Gt,it,St,Qe]),e.useEffect((function(){return E&&Gt(),function(){clearTimeout(A.current)}}),[E]),e.useEffect((function(){var e=j.current;function t(){clearTimeout(R.current),clearTimeout(A.current),R.current=setTimeout((function(){E!==window.innerWidth&&C(window.innerWidth)}),400)}return E!==window.innerWidth&&C(window.innerWidth),window.addEventListener("resize",t),function(){clearTimeout(R.current),window.removeEventListener("resize",t),document.removeEventListener("mousemove",Qt),document.removeEventListener("mouseup",Yt),document.removeEventListener("touchmove",Qt),document.removeEventListener("touchend",Yt),e.removeEventListener("mouseout",Yt),e.removeEventListener("dragstart",Yt)}}),[Qt,Yt]),X.current=0,N.current=I,n.default.createElement("div",c({onClickCapture:Jt,style:i({display:"flex",flexFlow:"row wrap",boxSizing:"border-box",justifyContent:"center",width:"100%"},q)},$,{ref:O}),se&&!Ct&&n.default.createElement("button",c({},fe,{type:"button",onClick:(0===Dt&&ct||0===We&&at)&&!it?void 0:Kt,disabled:"boolean"==typeof fe.disabled?fe.disabled:!(!(0===Dt&&ct||0===We&&at)||it)}),ue),n.default.createElement("div",c({},Q,{style:i(i({},K),{},{display:"flex",boxSizing:"border-box",flexFlow:"row wrap",padding:"0",overflow:"hidden",maxWidth:jt?"".concat(jt,"px"):void 0,flex:jt?void 0:"1 0"}),ref:L}),n.default.createElement("div",c({},ce,{style:i(i({},_),{},{display:"flex",boxSizing:"border-box",outline:"none",transition:It,transform:Bt}),onTouchStart:kt?void 0:_t,onMouseDown:kt?void 0:Zt,onTransitionEnd:Xe||Fe?en:void 0,tabIndex:-1,role:"presentation",ref:j}),it&&nn(V.slice(I),I,kt),nn(V,0,kt),it&&nn(V,0,kt),it&&nn(V.slice(0,I),0,kt))),pe&&!Ct&&n.default.createElement("button",c({},ye,{type:"button",onClick:(Dt===Pt&&ct||We===St&&at)&&!it?void 0:tn,disabled:"boolean"==typeof ye.disabled?ye.disabled:!(!(Dt===Pt&&ct||We===St&&at)||it)}),he),!!ht&&n.default.createElement("div",c({style:{width:"100%",display:"flex",justifyContent:"center"}},pt),Array.from({length:Math.ceil(V.length/He)}).map((function(e,t){return n.default.createElement("button",c({type:"button",key:t,title:"".concat(t)},wt,Math.min(t*He,V.length-1)===We?gt:{},{onClick:function(){$t(Math.min(t*He,V.length-1),Math.min(t*He,V.length-1)>We?"forward":"backward")}}))}))))}return e.memo(E)}));
